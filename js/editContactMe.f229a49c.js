(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editContactMe"],{"2de5":function(e,t,a){"use strict";a("d383")},d383:function(e,t,a){},d65d:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i=Object(n["P"])("data-v-c451b626");Object(n["y"])("data-v-c451b626");var c={class:"change-resume"},o={class:"action-buttons"},l={class:"input-field file"},r={for:"file-upload",class:"custom-file-upload"},s={class:"contact-me"},d=Object(n["i"])("i",{class:"fas fa-address-card"},[Object(n["i"])("p",{class:"resume"},"Resume")],-1);Object(n["w"])();var u=i((function(e,t,a,i,u,f){return Object(n["v"])(),Object(n["e"])("div",c,[Object(n["i"])("div",o,[Object(n["i"])("div",l,[Object(n["i"])("label",r,[Object(n["h"])(Object(n["E"])(u.fileName)+" ",1),Object(n["i"])("input",{id:"file-upload",type:"file",onChange:t[1]||(t[1]=function(){return f.onFileChange&&f.onFileChange.apply(f,arguments)}),required:""},null,32)]),Object(n["i"])("i",{onClick:t[2]||(t[2]=function(e){return f.uploadFile(u.fileToUpload)}),class:"fa fa-cloud-upload-alt action-icon upload"})]),Object(n["i"])("button",{onClick:t[3]||(t[3]=function(){return f.updateContactMeLine&&f.updateContactMeLine.apply(f,arguments)}),class:"btn btn-success"},"Save instance")]),Object(n["i"])("div",s,[u.ediatbleContactMeLine.edit?Object(n["M"])((Object(n["v"])(),Object(n["e"])("textarea",{key:0,type:"text",rows:"5",ref:"ediatbleContactMeLine",name:"ediatbleContactMeLine",id:"ediatbleContactMeLine","onUpdate:modelValue":t[4]||(t[4]=function(e){return u.ediatbleContactMeLine.line=e}),onKeyup:t[5]||(t[5]=Object(n["N"])((function(e){return u.ediatbleContactMeLine.edit=!1}),["enter"])),onBlur:t[6]||(t[6]=function(e){return u.ediatbleContactMeLine.edit=!1})},null,544)),[[n["I"],u.ediatbleContactMeLine.line]]):(Object(n["v"])(),Object(n["e"])("p",{key:1,class:"about",onClick:t[7]||(t[7]=function(){return f.updateEditStatus&&f.updateEditStatus.apply(f,arguments)})},Object(n["E"])(""==u.ediatbleContactMeLine.line?"Click to edit":u.ediatbleContactMeLine.line),1)),Object(n["i"])("a",{href:u.fileURL,target:"_blank",class:"resume-wrapper"},[d],8,["href"])])])})),f=a("1da1"),b=a("5530"),p=(a("96cf"),a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("32be")),m=a("5502"),h={name:"EditContactMe",data:function(){return{ediatbleContactMeLine:{line:this.$store.state.contactMeLine,edit:!1},fileName:"Upload file",fileToUpload:{},fileURL:"",prevName:this.$store.state.fileName}},methods:Object(b["a"])(Object(b["a"])({},Object(m["b"])({saveContactMeLine:"updateContactMeLine",saveFileName:"updateFileName"})),{},{updateContactMeLine:function(){this.saveContactMeLine(this.ediatbleContactMeLine.line),this.$emit("notification","Changes saved locally!")},updateEditStatus:function(){var e=this;this.ediatbleContactMeLine.edit=!0,setTimeout((function(){e.$refs.ediatbleContactMeLine.focus()}),100)},onFileChange:function(e){this.fileToUpload=e.target.files[0],this.fileURL=URL.createObjectURL(this.fileToUpload),this.fileName=this.fileToUpload.name},uploadFile:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!confirm("This action will replace your existing file and is irreversible. Do you wish to continue?")){a.next=3;break}return a.next=3,p["a"].storage().ref("/"+t.prevName).delete().then((function(){t.$emit("notification","Existing file ("+t.prevName+") deleted!","delete"),p["a"].storage().ref("/"+e.name).put(e).then((function(){t.saveFileName(e.name);var a=p["a"].database().ref("portfolio");a.update({fileName:e.name}),t.$emit("notification",e.name+" uploaded to firebase!","firebase"),t.loadData(e.name)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}));case 3:case"end":return a.stop()}}),a)})))()},loadData:function(){var e=arguments,t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.prevName,i=p["a"].storage().ref().child(n),a.next=4,i.getDownloadURL();case 4:c=a.sent,t.fileURL=c,t.prevName=n;case 7:case"end":return a.stop()}}),a)})))()}}),mounted:function(){this.loadData()}};a("2de5");h.render=u,h.__scopeId="data-v-c451b626";t["default"]=h}}]);
//# sourceMappingURL=editContactMe.f229a49c.js.map