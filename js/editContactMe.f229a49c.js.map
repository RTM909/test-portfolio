{"version":3,"sources":["webpack:///./src/components/admin/EditContactMe.vue?e706","webpack:///./src/components/admin/EditContactMe.vue","webpack:///./src/components/admin/EditContactMe.vue?681f"],"names":["class","for","fileName","id","type","onFileChange","required","uploadFile","fileToUpload","updateContactMeLine","ediatbleContactMeLine","edit","rows","ref","name","line","updateEditStatus","href","fileURL","target","data","this","$store","state","contactMeLine","prevName","methods","saveContactMeLine","saveFileName","$emit","setTimeout","$refs","focus","event","files","URL","createObjectURL","file","confirm","storage","delete","then","put","projectsRef","database","update","loadData","catch","err","console","log","child","getDownloadURL","url","mounted","render","__scopeId"],"mappings":"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","file":"js/editContactMe.f229a49c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditContactMe.vue?vue&type=style&index=0&id=c451b626&lang=scss&scoped=true\"","<template>\r\n\t<div class=\"change-resume\">\r\n\t\t<div class=\"action-buttons\">\r\n\t\t\t<div class=\"input-field file\">\r\n\t\t\t\t<label for=\"file-upload\" class=\"custom-file-upload\">\r\n\t\t\t\t\t{{ fileName }}\r\n\t\t\t\t\t<input id=\"file-upload\" type=\"file\" @change=\"onFileChange\" required/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<i @click=\"uploadFile(fileToUpload)\" class=\"fa fa-cloud-upload-alt action-icon upload\"></i>\r\n\t\t\t</div>\r\n\t\t\t<button @click=\"updateContactMeLine\" class=\"btn btn-success\">Save instance</button>\r\n\t\t</div>\r\n\t\t<div class=\"contact-me\">\r\n\t\t\t<textarea \r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\trows=\"5\"\r\n\t\t\t\tref=\"ediatbleContactMeLine\"\r\n\t\t\t\tname=\"ediatbleContactMeLine\"\r\n\t\t\t\tid=\"ediatbleContactMeLine\"\r\n\t\t\t\tv-if=\"ediatbleContactMeLine.edit\"\r\n\t\t\t\tv-model=\"ediatbleContactMeLine.line\"\r\n\t\t\t\t@keyup.enter=\"ediatbleContactMeLine.edit = false\"\r\n\t\t\t\t@blur=\"ediatbleContactMeLine.edit = false\"></textarea>\r\n\t\t\t<p\r\n\t\t\t\tv-else\r\n\t\t\t\tclass=\"about\"\r\n\t\t\t\t@click=\"updateEditStatus\">{{ ediatbleContactMeLine.line == '' ? 'Click to edit' : ediatbleContactMeLine.line }}</p>\r\n\t\t\t<a :href=\"fileURL\" target=\"_blank\" class=\"resume-wrapper\">\r\n\t\t\t\t<i class=\"fas fa-address-card\">\r\n\t\t\t\t\t<p class=\"resume\">Resume</p>\r\n\t\t\t\t</i>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase/compat';\r\nimport { mapActions } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'EditContactMe',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tediatbleContactMeLine: {\r\n\t\t\t\tline: this.$store.state.contactMeLine,\r\n\t\t\t\tedit: false\r\n\t\t\t},\r\n\t\t\tfileName: 'Upload file',\r\n\t\t\tfileToUpload: {},\r\n\t\t\tfileURL: '',\r\n\t\t\tprevName: this.$store.state.fileName\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions({\r\n\t\t\tsaveContactMeLine: 'updateContactMeLine',\r\n\t\t\tsaveFileName: 'updateFileName',\r\n\t\t}),\r\n\t\tupdateContactMeLine() {\r\n\t\t\tthis.saveContactMeLine(this.ediatbleContactMeLine.line);\r\n\t\t\tthis.$emit('notification', 'Changes saved locally!');\r\n\t\t},\r\n\t\tupdateEditStatus() {\r\n\t\t\tthis.ediatbleContactMeLine.edit = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.$refs.ediatbleContactMeLine.focus();\r\n\t\t\t},100)\r\n\t\t},\r\n\t\tonFileChange(event) {\r\n\t\t\tthis.fileToUpload = event.target.files[0];\r\n\t\t\tthis.fileURL = URL.createObjectURL(this.fileToUpload);\r\n\t\t\tthis.fileName = this.fileToUpload.name;\r\n\t\t},\r\n\t\tasync uploadFile(file) {\r\n\t\t\tif(confirm('This action will replace your existing file and is irreversible. Do you wish to continue?')) {\r\n\t\t\t\tawait firebase.storage().ref('/'+ this.prevName).delete()\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$emit('notification', 'Existing file (' + this.prevName + ') deleted!', 'delete');\r\n\t\t\t\t\tfirebase.storage().ref('/' + file.name).put(file)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tthis.saveFileName(file.name);\r\n\t\t\t\t\t\t// change file name in realtime database\r\n\t\t\t\t\t\tconst projectsRef = firebase.database().ref('portfolio');\r\n\t\t\t\t\t\tprojectsRef.update({\r\n\t\t\t\t\t\t\t'fileName': file.name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$emit('notification', file.name + ' uploaded to firebase!', 'firebase');\r\n\t\t\t\t\t\tthis.loadData(file.name);\r\n\t\t\t\t\t}).catch(err => console.log(err));\r\n\t\t\t\t}).catch(err => console.log(err));\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync loadData(name=this.prevName) {\r\n\t\t\tconst ref = firebase.storage().ref().child(name);\r\n\t\t\tconst url = await ref.getDownloadURL()\r\n\t\t\tthis.fileURL = url;\r\n\t\t\tthis.prevName = name;\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.loadData();\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$color: aquamarine;\r\n\r\n.change-resume {\r\n\tpadding: 5rem \r\n}\r\n\r\n.action-buttons {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n\tgrid-gap: 1rem;\r\n\tmargin-bottom: 2rem;\r\n}\r\n\r\n.about {\r\n\tcursor: pointer;\r\n}\r\n\r\n* {\r\n\tcolor: white;\r\n}\r\n.fas {\r\n\tfont-size: 3rem;\r\n\ttransition: all 100ms ease-in-out;\r\n\tpadding: 20px;\r\n}\r\n.resume {\r\n\tdisplay: inline-block;\r\n\tfont-family: 'Tajawal', sans-serif;\r\n\tfont-size: 50%;\r\n\tmargin: 13px 20px;\r\n\tvertical-align: bottom;\r\n}\r\n.resume-wrapper {\r\n\tcursor: pointer;\r\n}\r\n.fas:hover {\r\n\tcolor: $color;\r\n\ttransform: scale(1.1);\r\n\ttransition: all 100ms ease-in-out;\r\n\t.resume {\r\n\t\tcolor: $color;\r\n\t}\r\n}\r\n\r\ntextarea {\r\n\tborder-radius: 8px;\r\n\tpadding: 0;\r\n\tvertical-align: middle;\r\n\tborder: none;\r\n\tbackground: none !important;\r\n\topacity: 0.9;\r\n\twidth: 100%;\r\n\tcolor: white;\r\n\tmargin-bottom: 1rem;\r\n\ttext-align: center;\r\n}\r\ntextarea:focus {\r\n\tbackground-color: #ddd;\r\n\toutline: none;\r\n}\r\n\r\ninput[type=file] {\r\n\tdisplay: none;\r\n}\r\n.custom-file-upload {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tpadding: 0.5rem;\r\n\tcursor: pointer;\r\n\twidth: max-content;\r\n\tmargin: auto;\r\n\tbackground-color: #353cb4;\r\n\tcolor: white;\r\n\tborder-radius: 0.3rem;\r\n}\r\n.custom-file-upload:hover {\r\n\tbackground-color: #2d3385;\r\n}\r\n.file {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tgrid-gap: 0.5rem;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.action-icon {\r\n\tcursor: pointer;\r\n\tpadding: 0.77rem;\r\n    border-radius: 0.3rem;\r\n}\r\n.upload {\r\n    background-color: #353cb4;\r\n\t&:hover {\r\n\t\tbackground-color: #2d3385;\r\n\t}\r\n}\r\n.cancel {\r\n\tbackground-color: #b90000;\r\n\t&:hover {\r\n\t\tbackground-color: darkred;\r\n\t}\r\n}\r\n</style>","import { render } from \"./EditContactMe.vue?vue&type=template&id=c451b626&scoped=true\"\nimport script from \"./EditContactMe.vue?vue&type=script&lang=js\"\nexport * from \"./EditContactMe.vue?vue&type=script&lang=js\"\n\nimport \"./EditContactMe.vue?vue&type=style&index=0&id=c451b626&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-c451b626\"\n\nexport default script"],"sourceRoot":""}